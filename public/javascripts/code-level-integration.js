!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(2),n(3)},function(t,e){function n(){$("#user-i-signin").show(),$("#user-login").show(),$("#user-register").show(),$("#user-i-user").hide(),$("#user-howdy").hide(),$("#user-logout-divider").hide(),$("#user-logout").hide()}function o(){const t=Cookies.get("logged_in");var e,o;t?(e=t,o=function(t){void 0!==t?function(t){$("#user-i-signin").hide(),$("#user-login").hide(),$("#user-register").hide(),$("#user-i-user").show(),$("#user-howdy").text("Logged in as: "+t).show(),$("#user-logout-divider").show(),$("#user-logout").show()}(t):n()},$.ajax({url:"http://localhost:8080/customers/"+e,type:"GET",success:t=>{const n=JSON.parse(t);if(500===n.status_code)return console.error(`Could not get user information: ${e}, due to:  ${n.status_text} | ${n.error}`),o(void 0);o(n.username)},error:function(t,n,o){console.error(`Could not get user information: ${e}, due to: ${n} | ${o}`)}})):n()}$("#user").append('\n  <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">\n    <svg id="user-i-signin" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n      <path d="M3 16 L23 16 M15 8 L23 16 15 24 M21 4 L29 4 29 28 21 28" />\n    </svg>\n  \n    <svg id="user-i-user" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2">\n      <path d="M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z" />\n    </svg>\n  </a>\n    \n  <div class="dropdown-menu dropdown-menu-right">\n    <span id="user-login" class="dropdown-item" data-toggle="modal" data-target="#user-login-modal">Login</span>\n    <span id="user-register" class="dropdown-item" data-toggle="modal" data-target="#user-register-modal">Register</span>\n    <span id="user-howdy" class="dropdown-item-text"></span>\n    <div  id="user-logout-divider" class="dropdown-divider"></div>\n    <span id="user-logout" class="dropdown-item" onclick="return user_logout(event)">Logout</span>\n  </div>\n    \n  <div class="modal fade" id="user-login-modal" tabIndex="-1" role="dialog">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-body">\n          <form id="user-login-form" onsubmit="return user_login(event)">\n            <div id="login-failure-message" class="d-none"><div class="alert alert-danger">Invalid login credentials.</div></div>\n\n            <div class="form-group">\n              <label>Username</label>\n              <input type="text" class="form-control" name="username" id="user-login-modal-username" />\n            </div>\n            <div class="form-group">\n              <label>Password</label>\n              <input type="password" class="form-control" name="password" id="user-login-modal-password" />\n            </div>\n          </form>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="user-login-modal-close">Close</button>\n          <button type="submit" form="user-login-form" class="btn btn-primary">Login</button>\n        </div>\n      </div>\n    </div>\n  </div>\n    \n  <div class="modal fade" id="user-register-modal" tabIndex="-1" role="dialog">\n    <div class="modal-dialog" role="document">\n      <div class="modal-content">\n        <div class="modal-body">\n          <form id="user-register-form" onsubmit="return user_register(event)">\n            <div id="user-register-failure-message" class="d-none"><div class="alert alert-danger">Registration failed, try again.</div></div>\n\n            <div class="form-group">\n              <label>Username</label>\n              <input type="text" class="form-control" name="username" id="user-register-modal-username" />\n            </div>\n\n            <div class="form-group">\n              <label>Password</label>\n              <input type="password" class="form-control" name="password" id="user-register-modal-password" />\n            </div>\n          </form>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="user-register-modal-close">Close</button>\n          <button type="submit" form="user-register-form" class="btn btn-primary">Register</button>\n        </div>\n      </div>\n    </div>\n  </div>\n'),$.ajaxSetup({contentType:"application/json; charset=utf-8",xhrFields:{withCredentials:!0}}),o()},function(t,e){$("#carts").append('\n  <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">\n    <svg id="user-i-cart" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentcolor" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2">\n      <path d="M6 6 L30 6 27 19 9 19 M27 23 L10 23 5 2 2 2" />\n      <circle cx="25" cy="27" r="2" />\n      <circle cx="12" cy="27" r="2" />\n    </svg>\n  \n    <span class="badge badge-light" id="carts-items-count">0</span>\n  </a>\n  <div class="dropdown-menu dropdown-menu-right" style="width: 400px">\n    <ul class="list-group" id="carts-items">\n      <li class="list-group-item" id="carts-empty-cart">Empty cart...</li>\n    </ul>\n  </div>\n'),$.ajaxSetup({contentType:"application/json; charset=utf-8",xhrFields:{withCredentials:!0}}),$(document).ready(()=>{$("#carts").on("carts:initialize-cart",()=>{$.getJSON("http://localhost:8080/cart",{},t=>{if(null!=t){let e=0;$.each(t,(t,n)=>{null!=n&&null!=n.itemId&&$.getJSON("http://localhost:8080/catalogue/"+n.itemId,t=>{e+=n.quantity,$("#carts-items").append(`\n                <li class="list-group-item c-item">\n                  <div class="media">\n                    <img class="mr-3" src=http://localhost:8080${t.imageUrl[0]}" width="60" />\n                    <div class="media-body">\n                      <h5 class="mt-0">${t.name} - ${t.price}</h5>\n                    </div>\n                  </div>\n                </li>\n              `)}).always(()=>{$("#carts-items-count").text(e),e>0&&$("#carts-empty-cart").hide()})})}})}),$("#carts").on("carts:add-product-to-cart",(t,e)=>{var n;n=e.id,$.ajax({url:"http://localhost:8080/cart",type:"POST",data:JSON.stringify({id:n}),success:function(){const t=$("#carts-items-count"),e=parseInt(t.text().trim())||0;t.text(e+1)}})}),$("#carts").on("carts:reset-cart",()=>{$("#carts-items .c-item").hide(),$("#carts-items-count").text("0"),$("#carts-empty-cart").show()})})},function(t,e){$("#catalogue").append('\n  <div class="row" id="catalogue-products"></div>\n'),$.ajaxSetup({contentType:"application/json; charset=utf-8",xhrFields:{withCredentials:!0}}),$(document).ready(()=>{$.getJSON("http://localhost:8080/catalogue",(function(t){null!=t&&$.each(t,(function(t,e){$("#catalogue-products").append(`<div class="col-lg-4 col-md-6 mb-4">\n            <div class="card h-100">\n              <a href="#">\n                <img class="card-img-top" src="http://localhost:8080${e.imageUrl[0]}" />\n              </a>\n              <div class="card-body">\n                <h4 class="card-title">\n                  <a href="#">${e.name}</a>\n                </h4>\n                <h5>${e.price}</h5>\n                <p class="card-text">${e.description}</p>\n              </div>\n              <div class="card-footer text-right">\n                <button type="button" class="btn btn-primary"\n                  onclick="return catalogue_addToCart('${e.id}', '${e.name}', '${e.price}')">\n                    Add to cart\n                </button>\n              </div>\n            </div>\n          </div>\n        `)}))}))})}]);